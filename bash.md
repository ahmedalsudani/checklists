- incldue `set -eu` at the beginning  
  stops on non-zero retvals and undefined variables.

- include `set -o pipefail`  
  exits if any command in a pipe fails
